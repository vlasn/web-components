<template id="score-board">
  <div>
    <h1>scoreboard goes here</h1>
  </div>
</template>

<style></style>

<script>
  class Scoreboard extends HTMLElement {
    constructor () {
      super ();
      const importDoc = document.currentScript.ownerDocument;
      this.attachShadow({mode: 'open'});
      // As we attached a shadowroot to `this` directly, we don't need to keep a reference to shadowRoot
      // in a separate variable and have access to it via `this`
      this.shadowRoot.appendChild(importDoc.querySelector('style'));
      const content = importDoc.querySelector('template#score-board').content;
      this.shadowRoot.appendChild(content);

      this.setGameId(window.game.gameId);
      this.setScore(0);
      this.setGold(0);
      this.setLives(3);
      this.setTurns(0);
    }

    connectedCallback() {
      console.log('Component has been initialized!');
      this.shopListener = window.addEventListener('shopEvent', e => {
        console.log('shopEvent:', e);
        // this.setAttribute('count', (parseInt(this.getAttribute('count'))+ 1) || 0);
      });
      this.solveListener = window.addEventListener('solveEvent', e => {
        console.log('solveEvent:', e);
      });
    }

    disconnectedCallback() {
      this.shopListener.removeEventListener('shopEvent');
      this.solveListener.removeEventListener('solveEvent');
    }

    setGameId(gameId) {
      this.gameId = gameId;
    }

    setGold(gold) {
      this.gold = gold;
    }

    setLives(lives) {
      this.lives = lives;
    }

    setScore(score) {
      this.score = score;
    }

    setTurns(turns) {
      this.turns = turns;
    }

    getScore() {
      return this.score;
    }
  }
  window.customElements.define('game-scoreboard', Scoreboard);
</script>